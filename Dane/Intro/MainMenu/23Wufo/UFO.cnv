OBJECT=IREXPOSX
IREXPOSX:TYPE=INTEGER

OBJECT=IREXPOSY
IREXPOSY:TYPE=INTEGER

OBJECT=IELEVATORUP
IELEVATORUP:TYPE=INTEGER
IELEVATORUP:ONBRUTALCHANGED^1={ARRLEVEL^SET(1,0,"L");}
IELEVATORUP:ONBRUTALCHANGED^2={ARRLEVEL^SET(0,1,"LP");}
IELEVATORUP:ONBRUTALCHANGED^3={ARRLEVEL^SET(0,3,"L");}
IELEVATORUP:ONBRUTALCHANGED^4={ARRLEVEL^SET(2,2,"LP");}
IELEVATORUP:ONBRUTALCHANGED^5={ARRLEVEL^SET(2,4,"P");}

OBJECT=IELEVATORDOWN
IELEVATORDOWN:TYPE=INTEGER
IELEVATORDOWN:ONBRUTALCHANGED^1={ARRLEVEL^SET(1,0,"");}
IELEVATORDOWN:ONBRUTALCHANGED^2={ARRLEVEL^SET(0,1,"");}
IELEVATORDOWN:ONBRUTALCHANGED^3={ARRLEVEL^SET(0,3,"");}
IELEVATORDOWN:ONBRUTALCHANGED^4={ARRLEVEL^SET(2,2,"");}
IELEVATORDOWN:ONBRUTALCHANGED^5={ARRLEVEL^SET(2,4,"");}

OBJECT=SELEVATORINUSE
SELEVATORINUSE:TYPE=STRING
SELEVATORINUSE:VALUE=NULL

OBJECT=BCOMEBACK
BCOMEBACK:TYPE=BOOL
BCOMEBACK:VALUE=FALSE


######################################
##############  ANIMO  ###############
######################################

OBJECT=ANNREKSIO
ANNREKSIO:TYPE=ANIMO
ANNREKSIO:VISIBLE=TRUE
ANNREKSIO:FILENAME=REKSIO23GOTO.ANN
ANNREKSIO:TOCANVAS=TRUE
ANNREKSIO:PRIORITY=3
ANNREKSIO:FPS=24
ANNREKSIO:PRELOAD=TRUE
ANNREKSIO:RELEASE=TRUE
ANNREKSIO:MONITORCOLLISION=FALSE
ANNREKSIO:MONITORCOLLISIONALPHA=FALSE
ANNREKSIO:ONFRAMECHANGED^L={THIS^MOVE(-8,0);}
ANNREKSIO:ONFRAMECHANGED^P={THIS^MOVE(8,0);}
ANNREKSIO:ONFINISHED^L={BEHREXPOS^RUN();BEHCHECKFORDOOR^RUN();}
ANNREKSIO:ONFINISHED^P={BEHREXPOS^RUN();BEHCHECKFORDOOR^RUN();}
ANNREKSIO:ONFINISHED=BEHREXPOS
ANNREKSIO:ONSTARTED^ZNIKA={THIS^SETPRIORITY(0);}
ANNREKSIO:ONFINISHED^ZNIKA={@IF("BEHISREXATXY^RUN(3,2)'TRUE","BEHTELEPORTOUT1","");@IF("BEHISREXATXY^RUN(0,0)'TRUE","BEHTELEPORTOUT4","");@IF("BEHISREXATXY^RUN(2,0)'TRUE","BEHTELEPORTOUT6","");@IF("BEHISREXATXY^RUN(5,1)'TRUE","BEHTELEPORTOUT2","");@IF("BEHISREXATXY^RUN(5,3)'TRUE","BEHTELEPORTOUT3","");@IF("BEHISREXATXY^RUN(2,1)'TRUE","BEHTELEPORTOUT5","");}
ANNREKSIO:ONFINISHED^POJAWIA={THIS^SETPRIORITY(3);BEHREXPOS^RUN();}
ANNREKSIO:ONFINISHED^DOKOMPUTERA={RATUNEK^GOTO("24LASER");}
ANNREKSIO:ONFINISHED^DOPLANSZY22={RATUNEK^GOTO("POUFO");}
ANNREKSIO:ONFINISHED^DEZINTEGRACJAL=BEHRESPAWN
ANNREKSIO:ONFINISHED^DEZINTEGRACJAP=BEHRESPAWN

OBJECT=ANNWINDA1
ANNWINDA1:TYPE=ANIMO
ANNWINDA1:VISIBLE=TRUE
ANNWINDA1:FILENAME=WINDA1.ANN
ANNWINDA1:TOCANVAS=TRUE
ANNWINDA1:PRIORITY=0
ANNWINDA1:FPS=24
ANNWINDA1:PRELOAD=TRUE
ANNWINDA1:RELEASE=TRUE
ANNWINDA1:MONITORCOLLISION=FALSE
ANNWINDA1:MONITORCOLLISIONALPHA=FALSE
ANNWINDA1:ONFINISHED^UP={IELEVATORUP^SET(1);THIS^PLAY("PAUSE_UP");@IF("BEHISREXATXY^RUN(0,3)'TRUE","BEHREXPOS","");@IF("SELEVATORINUSE'1","{SELEVATORINUSE^SET("NULL");}","");}
ANNWINDA1:ONSTARTED^DOWN={IELEVATORDOWN^SET(1);}
ANNWINDA1:ONFINISHED^DOWN={THIS^PLAY("PAUSE_DOWN");@IF("BEHISREXATXY^RUN(0,1)'TRUE","BEHREXPOS","");@IF("SELEVATORINUSE'1","{SELEVATORINUSE^SET("NULL");}","");}
ANNWINDA1:ONFINISHED^PAUSE_UP={THIS^PLAY("DOWN");}
ANNWINDA1:ONFINISHED^PAUSE_DOWN={THIS^PLAY("UP");}
ANNWINDA1:ONFRAMECHANGED^UP={@IF("BEHISREXATXY^RUN(0,3)'TRUE","{ANNREKSIO^MOVE(0,-28);SELEVATORINUSE^SET("1");}","");}
ANNWINDA1:ONFRAMECHANGED^DOWN={@IF("BEHISREXATXY^RUN(0,1)'TRUE","{ANNREKSIO^MOVE(0,28);SELEVATORINUSE^SET("1");}","");}

OBJECT=ANNWINDA2
ANNWINDA2:TYPE=ANIMO
ANNWINDA2:VISIBLE=TRUE
ANNWINDA2:FILENAME=WINDA2.ANN
ANNWINDA2:TOCANVAS=TRUE
ANNWINDA2:PRIORITY=0
ANNWINDA2:FPS=24
ANNWINDA2:PRELOAD=TRUE
ANNWINDA2:RELEASE=TRUE
ANNWINDA2:MONITORCOLLISION=FALSE
ANNWINDA2:MONITORCOLLISIONALPHA=FALSE
ANNWINDA2:ONFINISHED^UP={IELEVATORUP^SET(2);THIS^PLAY("PAUSE_UP");@IF("BEHISREXATXY^RUN(1,1)'TRUE","BEHREXPOS","");@IF("SELEVATORINUSE'2","{SELEVATORINUSE^SET("NULL");}","");}
ANNWINDA2:ONSTARTED^DOWN={IELEVATORDOWN^SET(2);}
ANNWINDA2:ONFINISHED^DOWN={THIS^PLAY("PAUSE_DOWN");@IF("BEHISREXATXY^RUN(1,0)'TRUE","BEHREXPOS","");@IF("SELEVATORINUSE'2","{SELEVATORINUSE^SET("NULL");}","");}
ANNWINDA2:ONFINISHED^PAUSE_UP={THIS^PLAY("DOWN");}
ANNWINDA2:ONFINISHED^PAUSE_DOWN={THIS^PLAY("UP");}
ANNWINDA2:ONFRAMECHANGED^UP={@IF("BEHISREXATXY^RUN(1,1)'TRUE","{ANNREKSIO^MOVE(0,-28);SELEVATORINUSE^SET("2");}","");}
ANNWINDA2:ONFRAMECHANGED^DOWN={@IF("BEHISREXATXY^RUN(1,0)'TRUE","{ANNREKSIO^MOVE(0,28);SELEVATORINUSE^SET("2");}","");}

OBJECT=ANNWINDA3
ANNWINDA3:TYPE=ANIMO
ANNWINDA3:VISIBLE=TRUE
ANNWINDA3:FILENAME=WINDA3.ANN
ANNWINDA3:TOCANVAS=TRUE
ANNWINDA3:PRIORITY=0
ANNWINDA3:FPS=24
ANNWINDA3:PRELOAD=TRUE
ANNWINDA3:RELEASE=TRUE
ANNWINDA3:MONITORCOLLISION=FALSE
ANNWINDA3:MONITORCOLLISIONALPHA=FALSE
ANNWINDA3:ONFINISHED^UP={IELEVATORUP^SET(3);THIS^PLAY("PAUSE_UP");@IF("BEHISREXATXY^RUN(3,1)'TRUE","BEHREXPOS","");@IF("SELEVATORINUSE'3","{SELEVATORINUSE^SET("NULL");}","");}
ANNWINDA3:ONSTARTED^DOWN={IELEVATORDOWN^SET(3);}
ANNWINDA3:ONFINISHED^DOWN={THIS^PLAY("PAUSE_DOWN");@IF("BEHISREXATXY^RUN(3,0)'TRUE","BEHREXPOS","");@IF("SELEVATORINUSE'3","{SELEVATORINUSE^SET("NULL");}","");}
ANNWINDA3:ONFINISHED^PAUSE_UP={THIS^PLAY("DOWN");}
ANNWINDA3:ONFINISHED^PAUSE_DOWN={THIS^PLAY("UP");}
ANNWINDA3:ONFRAMECHANGED^UP={@IF("BEHISREXATXY^RUN(3,1)'TRUE","{ANNREKSIO^MOVE(0,-28);SELEVATORINUSE^SET("3");}","");}
ANNWINDA3:ONFRAMECHANGED^DOWN={@IF("BEHISREXATXY^RUN(3,0)'TRUE","{ANNREKSIO^MOVE(0,28);SELEVATORINUSE^SET("3");}","");}

OBJECT=ANNWINDA4
ANNWINDA4:TYPE=ANIMO
ANNWINDA4:VISIBLE=TRUE
ANNWINDA4:FILENAME=WINDA4.ANN
ANNWINDA4:TOCANVAS=TRUE
ANNWINDA4:PRIORITY=0
ANNWINDA4:FPS=24
ANNWINDA4:PRELOAD=TRUE
ANNWINDA4:RELEASE=TRUE
ANNWINDA4:MONITORCOLLISION=FALSE
ANNWINDA4:MONITORCOLLISIONALPHA=FALSE
ANNWINDA4:ONFINISHED^UP={IELEVATORUP^SET(4);THIS^PLAY("PAUSE_UP");@IF("BEHISREXATXY^RUN(2,3)'TRUE","BEHREXPOS","");@IF("SELEVATORINUSE'4","{SELEVATORINUSE^SET("NULL");}","");}
ANNWINDA4:ONSTARTED^DOWN={IELEVATORDOWN^SET(4);}
ANNWINDA4:ONFINISHED^DOWN={THIS^PLAY("PAUSE_DOWN");@IF("BEHISREXATXY^RUN(2,2)'TRUE","BEHREXPOS","");@IF("SELEVATORINUSE'4","{SELEVATORINUSE^SET("NULL");}","");}
ANNWINDA4:ONFINISHED^PAUSE_UP={THIS^PLAY("DOWN");}
ANNWINDA4:ONFINISHED^PAUSE_DOWN={THIS^PLAY("UP");}
ANNWINDA4:ONFRAMECHANGED^UP={@IF("BEHISREXATXY^RUN(2,3)'TRUE","{ANNREKSIO^MOVE(0,-28);SELEVATORINUSE^SET("4");}","");}
ANNWINDA4:ONFRAMECHANGED^DOWN={@IF("BEHISREXATXY^RUN(2,2)'TRUE","{ANNREKSIO^MOVE(0,28);SELEVATORINUSE^SET("4");}","");}

OBJECT=ANNWINDA5
ANNWINDA5:TYPE=ANIMO
ANNWINDA5:VISIBLE=TRUE
ANNWINDA5:FILENAME=WINDA5.ANN
ANNWINDA5:TOCANVAS=TRUE
ANNWINDA5:PRIORITY=0
ANNWINDA5:FPS=24
ANNWINDA5:PRELOAD=TRUE
ANNWINDA5:RELEASE=TRUE
ANNWINDA5:MONITORCOLLISION=FALSE
ANNWINDA5:MONITORCOLLISIONALPHA=FALSE
ANNWINDA5:ONFINISHED^UP={IELEVATORUP^SET(5);THIS^PLAY("PAUSE_UP");@IF("BEHISREXATXY^RUN(4,3)'TRUE","BEHREXPOS","");@IF("SELEVATORINUSE'5","{SELEVATORINUSE^SET("NULL");}","");}
ANNWINDA5:ONSTARTED^DOWN={IELEVATORDOWN^SET(5);}
ANNWINDA5:ONFINISHED^DOWN={THIS^PLAY("PAUSE_DOWN");@IF("BEHISREXATXY^RUN(4,2)'TRUE","BEHREXPOS","");@IF("SELEVATORINUSE'5","{SELEVATORINUSE^SET("NULL");}","");}
ANNWINDA5:ONFINISHED^PAUSE_UP={THIS^PLAY("DOWN");}
ANNWINDA5:ONFINISHED^PAUSE_DOWN={THIS^PLAY("UP");}
ANNWINDA5:ONFRAMECHANGED^UP={@IF("BEHISREXATXY^RUN(4,3)'TRUE","{ANNREKSIO^MOVE(0,-28);SELEVATORINUSE^SET("5");}","");}
ANNWINDA5:ONFRAMECHANGED^DOWN={@IF("BEHISREXATXY^RUN(4,2)'TRUE","{ANNREKSIO^MOVE(0,28);SELEVATORINUSE^SET("5");}","");}

OBJECT=ANNTELEPORT1
ANNTELEPORT1:TYPE=ANIMO
ANNTELEPORT1:VISIBLE=TRUE
ANNTELEPORT1:FILENAME=TELEPORT1.ANN
ANNTELEPORT1:TOCANVAS=TRUE
ANNTELEPORT1:PRIORITY=2
ANNTELEPORT1:FPS=16
ANNTELEPORT1:PRELOAD=TRUE
ANNTELEPORT1:RELEASE=TRUE
ANNTELEPORT1:MONITORCOLLISION=FALSE
ANNTELEPORT1:MONITORCOLLISIONALPHA=FALSE
ANNTELEPORT1:ONFINISHED^UP={THIS^PLAY("DOWN");ANNTELEPORT4^PLAY("UP2");}
ANNTELEPORT1:ONFINISHED^UP2={THIS^PLAY("DOWN2");}

OBJECT=ANNTELEPORT2
ANNTELEPORT2:TYPE=ANIMO
ANNTELEPORT2:VISIBLE=TRUE
ANNTELEPORT2:FILENAME=TELEPORT2.ANN
ANNTELEPORT2:TOCANVAS=TRUE
ANNTELEPORT2:PRIORITY=2
ANNTELEPORT2:FPS=16
ANNTELEPORT2:PRELOAD=TRUE
ANNTELEPORT2:RELEASE=TRUE
ANNTELEPORT2:MONITORCOLLISION=FALSE
ANNTELEPORT2:MONITORCOLLISIONALPHA=FALSE
ANNTELEPORT2:ONFINISHED^UP={THIS^PLAY("DOWN");ANNTELEPORT6^PLAY("UP2");}
ANNTELEPORT2:ONFINISHED^UP2={THIS^PLAY("DOWN2");}

OBJECT=ANNTELEPORT3
ANNTELEPORT3:TYPE=ANIMO
ANNTELEPORT3:VISIBLE=TRUE
ANNTELEPORT3:FILENAME=TELEPORT3.ANN
ANNTELEPORT3:TOCANVAS=TRUE
ANNTELEPORT3:PRIORITY=2
ANNTELEPORT3:FPS=16
ANNTELEPORT3:PRELOAD=TRUE
ANNTELEPORT3:RELEASE=TRUE
ANNTELEPORT3:MONITORCOLLISION=FALSE
ANNTELEPORT3:MONITORCOLLISIONALPHA=FALSE
ANNTELEPORT3:ONFINISHED^UP2={THIS^PLAY("DOWN2");}
ANNTELEPORT3:ONFINISHED^UP={THIS^PLAY("DOWN");ANNTELEPORT5^PLAY("UP2");}

OBJECT=ANNTELEPORT4
ANNTELEPORT4:TYPE=ANIMO
ANNTELEPORT4:VISIBLE=TRUE
ANNTELEPORT4:FILENAME=TELEPORT4.ANN
ANNTELEPORT4:TOCANVAS=TRUE
ANNTELEPORT4:PRIORITY=2
ANNTELEPORT4:FPS=16
ANNTELEPORT4:PRELOAD=TRUE
ANNTELEPORT4:RELEASE=TRUE
ANNTELEPORT4:MONITORCOLLISION=FALSE
ANNTELEPORT4:MONITORCOLLISIONALPHA=FALSE
ANNTELEPORT4:ONFINISHED^UP={THIS^PLAY("DOWN");ANNTELEPORT1^PLAY("UP2");}
ANNTELEPORT4:ONFINISHED^UP2={THIS^PLAY("DOWN2");}

OBJECT=ANNTELEPORT5
ANNTELEPORT5:TYPE=ANIMO
ANNTELEPORT5:VISIBLE=TRUE
ANNTELEPORT5:FILENAME=TELEPORT5.ANN
ANNTELEPORT5:TOCANVAS=TRUE
ANNTELEPORT5:PRIORITY=2
ANNTELEPORT5:FPS=16
ANNTELEPORT5:PRELOAD=TRUE
ANNTELEPORT5:RELEASE=TRUE
ANNTELEPORT5:MONITORCOLLISION=FALSE
ANNTELEPORT5:MONITORCOLLISIONALPHA=FALSE
ANNTELEPORT5:ONFINISHED^UP={THIS^PLAY("DOWN");ANNTELEPORT3^PLAY("UP2");}
ANNTELEPORT5:ONFINISHED^UP2={THIS^PLAY("DOWN2");}

OBJECT=ANNTELEPORT6
ANNTELEPORT6:TYPE=ANIMO
ANNTELEPORT6:VISIBLE=TRUE
ANNTELEPORT6:FILENAME=TELEPORT6.ANN
ANNTELEPORT6:TOCANVAS=TRUE
ANNTELEPORT6:PRIORITY=2
ANNTELEPORT6:FPS=16
ANNTELEPORT6:PRELOAD=TRUE
ANNTELEPORT6:RELEASE=TRUE
ANNTELEPORT6:MONITORCOLLISION=FALSE
ANNTELEPORT6:MONITORCOLLISIONALPHA=FALSE
ANNTELEPORT6:ONFINISHED^UP={THIS^PLAY("DOWN");ANNTELEPORT2^PLAY("UP2");}
ANNTELEPORT6:ONFINISHED^UP2={THIS^PLAY("DOWN2");}

OBJECT=ANNKURA0
ANNKURA0:TYPE=ANIMO
ANNKURA0:VISIBLE=TRUE
ANNKURA0:FILENAME=KURA_DOL.ANN
ANNKURA0:TOCANVAS=TRUE
ANNKURA0:PRIORITY=10
ANNKURA0:FPS=16
ANNKURA0:PRELOAD=TRUE
ANNKURA0:RELEASE=TRUE
ANNKURA0:MONITORCOLLISION=FALSE
ANNKURA0:MONITORCOLLISIONALPHA=FALSE
ANNKURA0:ONFINISHED^_LEWOD3={THIS^PLAY("_LEWOD2");}
ANNKURA0:ONFINISHED^_LEWOD2={THIS^PLAY("_NAPRAWASTARTLEWO");}
ANNKURA0:ONFINISHED^_NAPRAWASTARTLEWO={THIS^PLAY("_NAPRAWA_LEWO");}
ANNKURA0:ONFINISHED^_NAPRAWA_LEWO={THIS^PLAY("_NAPRAWASTOPPRAWO");}
ANNKURA0:ONFINISHED^_NAPRAWASTOPPRAWO={THIS^PLAY("_PRAWOD1");}
ANNKURA0:ONFINISHED^_PRAWOD1={THIS^PLAY("_PRAWOD2");}
ANNKURA0:ONFINISHED^_PRAWOD2={THIS^PLAY("_PRAWOD3");}
ANNKURA0:ONFINISHED^_PRAWOD3={THIS^PLAY("_NAPRAWASTARTPRAWO");}
ANNKURA0:ONFINISHED^_NAPRAWASTARTPRAWO={THIS^PLAY("_NAPRAWA_PRAWO");}
ANNKURA0:ONFINISHED^_NAPRAWA_PRAWO={THIS^PLAY("_LEWOD3");}
ANNKURA0:ONFRAMECHANGED={@IF("ANNKURA0^ISNEAR("ANNREKSIO",40)'TRUE","BEHDISINTEGRATE","");}

OBJECT=ANNKURA1
ANNKURA1:TYPE=ANIMO
ANNKURA1:VISIBLE=TRUE
ANNKURA1:FILENAME=KURA_GORA.ANN
ANNKURA1:TOCANVAS=TRUE
ANNKURA1:PRIORITY=10
ANNKURA1:FPS=16
ANNKURA1:PRELOAD=TRUE
ANNKURA1:RELEASE=TRUE
ANNKURA1:MONITORCOLLISION=FALSE
ANNKURA1:MONITORCOLLISIONALPHA=FALSE
ANNKURA1:ONFINISHED^_LEWO2D16={THIS^PLAY("_NAPRAWASTARTLEWO2");}
ANNKURA1:ONFINISHED^_NAPRAWASTARTLEWO2={THIS^PLAY("_NAPRAWA2_LEWO");}
ANNKURA1:ONFINISHED^_NAPRAWA2_LEWO={THIS^PLAY("_NAPRAWASTOPPRAWO2");}
ANNKURA1:ONFINISHED^_NAPRAWASTOPPRAWO2={THIS^PLAY("_PRAWO2");}
ANNKURA1:ONFINISHED^_PRAWO2={THIS^PLAY("_NAPRAWASTARTPRAWO2");}
ANNKURA1:ONFINISHED^_NAPRAWASTARTPRAWO2={THIS^PLAY("_NAPRAWA2_PRAWO");}
ANNKURA1:ONFINISHED^_NAPRAWA2_PRAWO={THIS^PLAY("_LEWO2D16");}
ANNKURA1:ONFRAMECHANGED={@IF("ANNKURA1^ISNEAR("ANNREKSIO",40)'TRUE","BEHDISINTEGRATE","");}


######################################
##############  IMAGE  ###############
######################################

OBJECT=IMGEXIT
IMGEXIT:TYPE=IMAGE
IMGEXIT:VISIBLE=TRUE
IMGEXIT:FILENAME=BEXIT.IMG
IMGEXIT:TOCANVAS=TRUE
IMGEXIT:PRIORITY=0
IMGEXIT:PRELOAD=TRUE
IMGEXIT:RELEASE=TRUE
IMGEXIT:MONITORCOLLISION=FALSE
IMGEXIT:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGEXITOM
IMGEXITOM:TYPE=IMAGE
IMGEXITOM:VISIBLE=TRUE
IMGEXITOM:FILENAME=BEXITOM.IMG
IMGEXITOM:TOCANVAS=TRUE
IMGEXITOM:PRIORITY=0
IMGEXITOM:PRELOAD=TRUE
IMGEXITOM:RELEASE=TRUE
IMGEXITOM:MONITORCOLLISION=FALSE
IMGEXITOM:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGEXITOC
IMGEXITOC:TYPE=IMAGE
IMGEXITOC:VISIBLE=TRUE
IMGEXITOC:FILENAME=BEXITOC.IMG
IMGEXITOC:TOCANVAS=TRUE
IMGEXITOC:PRIORITY=0
IMGEXITOC:PRELOAD=TRUE
IMGEXITOC:RELEASE=TRUE
IMGEXITOC:MONITORCOLLISION=FALSE
IMGEXITOC:MONITORCOLLISIONALPHA=FALSE


######################################
##############  BUTTON  ##############
######################################

OBJECT=BTNEXIT
BTNEXIT:TYPE=BUTTON
BTNEXIT:VISIBLE=TRUE
BTNEXIT:ENABLE=TRUE
BTNEXIT:DRAGGABLE=FALSE
BTNEXIT:GFXSTANDARD=IMGEXIT
BTNEXIT:GFXONCLICK=IMGEXITOC
BTNEXIT:GFXONMOVE=IMGEXITOM
BTNEXIT:ONCLICKED={RATUNEK^GOTO("MENUGLOWNE");}


######################################
##############  SOUND  ###############
######################################

OBJECT=HENSFX1
HENSFX1:TYPE=SOUND
HENSFX1:FILENAME=KOSMOKURA1.WAV
HENSFX1:PRELOAD=FALSE
HENSFX1:RELEASE=FALSE

OBJECT=HENSFX2
HENSFX2:TYPE=SOUND
HENSFX2:FILENAME=KOSMOKURA2.WAV
HENSFX2:PRELOAD=FALSE
HENSFX2:RELEASE=FALSE

OBJECT=HENSFX3
HENSFX3:TYPE=SOUND
HENSFX3:FILENAME=KOSMOKURA3.WAV
HENSFX3:PRELOAD=FALSE
HENSFX3:RELEASE=FALSE


######################################
###############  MISC  ###############
######################################

OBJECT=MOUSE
MOUSE:TYPE=MOUSE
MOUSE:ONCLICK={@IF(ANNREKSIO^ISPLAYING(),"_","TRUE","{@BREAK();}","");@IF("SELEVATORINUSE!'"NULL"","{@BREAK();}","");@INT("L_INEWX",IREXPOSX);@STRING("L_SDIRECTION","");@IF(MOUSE^GETPOSX(),"<",ANNREKSIO^GETCENTERX(),"{L_SDIRECTION^SET("L");L_INEWX^DEC();}","{L_SDIRECTION^SET("P");L_INEWX^INC();}");@IF("L_INEWX<0||L_INEWX>5","{@BREAK();}","");@STRING("L_SALLOWEDDIRS",ARRLEVEL^GET(IREXPOSY,L_INEWX));@IF(L_SALLOWEDDIRS^FIND(L_SDIRECTION),"_","-1","{@BREAK();}","");BEHPAUSEELEVATORS^RUN();ANNREKSIO^PLAY(L_SDIRECTION);}


######################################
##############  ARRAY  ###############
######################################

OBJECT=ARRLEVEL
ARRLEVEL:TYPE=MULTIARRAY
ARRLEVEL:DIMENSIONS=2


######################################
############  BEHAVIOUR  #############
######################################

OBJECT=BEHRESPAWN
BEHRESPAWN:TYPE=BEHAVIOUR
BEHRESPAWN:CODE={@IF("BCOMEBACK'TRUE","BEHSTARTTOP","BEHSTARTBOTTOM");}

OBJECT=BEHSTARTTOP
BEHSTARTTOP:TYPE=BEHAVIOUR
BEHSTARTTOP:CODE={ANNREKSIO^SETPOSITION(593,113);ANNREKSIO^PLAY("ODKOMPUTERA");}

OBJECT=BEHSTARTBOTTOM
BEHSTARTBOTTOM:TYPE=BEHAVIOUR
BEHSTARTBOTTOM:CODE={ANNREKSIO^SETPOSITION(465,533);ANNREKSIO^PLAY("ZPLANSZY22");}

OBJECT=BEHPAUSEELEVATORS
BEHPAUSEELEVATORS:TYPE=BEHAVIOUR
BEHPAUSEELEVATORS:CODE={@STRING("L_SEVENTNAME","");@LOOP("{L_SEVENTNAME^SET(*["ANNWINDA"+_I_]^GETEVENTNAME());@IF("L_SEVENTNAME^FIND("PAUSE_")'0","{*["ANNWINDA"+_I_]^PLAY(L_SEVENTNAME);}","");}",1,5,1);}

OBJECT=BEHREXPOS
BEHREXPOS:TYPE=BEHAVIOUR
BEHREXPOS:CODE={IREXPOSX^SET([[ANNREKSIO^GETCENTERX()-17] @ 128]);IREXPOSY^SET([[ANNREKSIO^GETCENTERY()-43] @ 140]);}

# ARGUMENTS: $1 - X, $2 - Y
OBJECT=BEHISREXATXY
BEHISREXATXY:TYPE=BEHAVIOUR
BEHISREXATXY:CODE={@BOOL("L_BRET",TRUE);@IF(IREXPOSX,"!_",$1,"{L_BRET^SET(FALSE);}","");@IF(IREXPOSY,"!_",$2,"{L_BRET^SET(FALSE);}","");@RETURN(L_BRET);}

OBJECT=BEHCHECKFORDOOR
BEHCHECKFORDOOR:TYPE=BEHAVIOUR
BEHCHECKFORDOOR:CODE={@IF("BEHISREXATXY^RUN(3,2)'TRUE","{BEHTELEPORTIN^RUN(4);}","");@IF("BEHISREXATXY^RUN(0,0)'TRUE","{BEHTELEPORTIN^RUN(1);}","");@IF("BEHISREXATXY^RUN(2,0)'TRUE","{BEHTELEPORTIN^RUN(2);}","");@IF("BEHISREXATXY^RUN(5,1)'TRUE","{BEHTELEPORTIN^RUN(6);}","");@IF("BEHISREXATXY^RUN(5,3)'TRUE","{BEHTELEPORTIN^RUN(5);}","");@IF("BEHISREXATXY^RUN(2,1)'TRUE","{BEHTELEPORTIN^RUN(3);}","");@IF("BEHISREXATXY^RUN(4,0)'TRUE&&BCOMEBACK'FALSE","BEHEXITTOP","");@IF("BEHISREXATXY^RUN(3,3)'TRUE&&BCOMEBACK'TRUE","BEHEXITBOTTOM","");}

# ARGUMENTS: $1 - teleporter ID
OBJECT=BEHTELEPORTIN
BEHTELEPORTIN:TYPE=BEHAVIOUR
BEHTELEPORTIN:CODE={ANNTELEPORT$1^PLAY("UP");ANNREKSIO^PLAY("ZNIKA");@BREAK();}

OBJECT=BEHEXITTOP
BEHEXITTOP:TYPE=BEHAVIOUR
BEHEXITTOP:CODE={ANNREKSIO^PLAY("DOKOMPUTERA");@BREAK();}

OBJECT=BEHEXITBOTTOM
BEHEXITBOTTOM:TYPE=BEHAVIOUR
BEHEXITBOTTOM:CODE={ANNREKSIO^PLAY("DOPLANSZY22");@BREAK();}

OBJECT=BEHTELEPORTOUT1
BEHTELEPORTOUT1:TYPE=BEHAVIOUR
BEHTELEPORTOUT1:CODE={ANNREKSIO^SETPOSITION(81,113);ANNREKSIO^PLAY("POJAWIA");@BREAK();}

OBJECT=BEHTELEPORTOUT2
BEHTELEPORTOUT2:TYPE=BEHAVIOUR
BEHTELEPORTOUT2:CODE={ANNREKSIO^SETPOSITION(337,113);ANNREKSIO^PLAY("POJAWIA");@BREAK();}

OBJECT=BEHTELEPORTOUT3
BEHTELEPORTOUT3:TYPE=BEHAVIOUR
BEHTELEPORTOUT3:CODE={ANNREKSIO^SETPOSITION(337,253);ANNREKSIO^PLAY("POJAWIA");@BREAK();}

OBJECT=BEHTELEPORTOUT4
BEHTELEPORTOUT4:TYPE=BEHAVIOUR
BEHTELEPORTOUT4:CODE={ANNREKSIO^SETPOSITION(465,393);ANNREKSIO^PLAY("POJAWIA");@BREAK();}

OBJECT=BEHTELEPORTOUT5
BEHTELEPORTOUT5:TYPE=BEHAVIOUR
BEHTELEPORTOUT5:CODE={ANNREKSIO^SETPOSITION(721,533);ANNREKSIO^PLAY("POJAWIA");@BREAK();}

OBJECT=BEHTELEPORTOUT6
BEHTELEPORTOUT6:TYPE=BEHAVIOUR
BEHTELEPORTOUT6:CODE={ANNREKSIO^SETPOSITION(721,253);ANNREKSIO^PLAY("POJAWIA");@BREAK();}

OBJECT=BEHDISINTEGRATE
BEHDISINTEGRATE:TYPE=BEHAVIOUR
BEHDISINTEGRATE:CODE={@IF("ANNREKSIO^ISPLAYING("DEZINTEGRACJAL")'TRUE||ANNREKSIO^ISPLAYING("DEZINTEGRACJAP")'TRUE||ANNREKSIO^ISPLAYING("ZPLANSZY22")'TRUE","{@BREAK();}","");IREXPOSX^SET(-1);IREXPOSY^SET(-1);@IF("ANNREKSIO^GETEVENTNAME()'"L"","{ANNREKSIO^PLAY("DEZINTEGRACJAL");}","{ANNREKSIO^PLAY("DEZINTEGRACJAP");}");BEHPLAYHENSFX^RUN();};

OBJECT=BEHPLAYHENSFX
BEHPLAYHENSFX:TYPE=BEHAVIOUR
BEHPLAYHENSFX:CODE={@STRING("SHENSFX",["HENSFX"+RANDOM^GET(1,3)]);*SHENSFX^PLAY();}

OBJECT=__INIT__
__INIT__:TYPE=BEHAVIOUR
__INIT__:CODE={BEHINITSCENEMUSIC^RUN(); !VARIABLES_INIT; @IF("POZYCJAWULKAN","_","24","{BCOMEBACK^SET(TRUE);}","");ARRLEVEL^SET(0,0,"L");ARRLEVEL^SET(0,1,"LP");ARRLEVEL^SET(0,2,"P");ARRLEVEL^SET(0,3,"L");ARRLEVEL^SET(0,4,"P");ARRLEVEL^SET(0,5,"");ARRLEVEL^SET(1,0,"L");ARRLEVEL^SET(1,1,"P");ARRLEVEL^SET(1,2,"L");ARRLEVEL^SET(1,3,"LP");ARRLEVEL^SET(1,4,"LP");ARRLEVEL^SET(1,5,"P");ARRLEVEL^SET(2,0,"");ARRLEVEL^SET(2,1,"L");ARRLEVEL^SET(2,2,"LP");ARRLEVEL^SET(2,3,"LP");ARRLEVEL^SET(2,4,"");ARRLEVEL^SET(2,5,"");ARRLEVEL^SET(3,0,"L");ARRLEVEL^SET(3,1,"LP");ARRLEVEL^SET(3,2,"LP");ARRLEVEL^SET(3,3,"P");ARRLEVEL^SET(3,4,"L");ARRLEVEL^SET(3,5,"P"); !ANIMATIONS_INIT; ANNREKSIO^SETANCHOR("CENTER");ANNWINDA1^PLAY("PAUSE_DOWN");ANNWINDA2^PLAY("PAUSE_UP");ANNWINDA3^PLAY("PAUSE_UP");ANNWINDA4^PLAY("PAUSE_UP");ANNWINDA5^PLAY("PAUSE_DOWN");ANNTELEPORT1^PLAY("DOL");ANNTELEPORT2^PLAY("DOL");ANNTELEPORT3^PLAY("DOL");ANNTELEPORT4^PLAY("DOL");ANNTELEPORT5^PLAY("DOL");ANNTELEPORT6^PLAY("DOL");BEHRESPAWN^RUN();ANNKURA0^PLAY("_LEWOD3");ANNKURA1^PLAY("_LEWO2D16");}

