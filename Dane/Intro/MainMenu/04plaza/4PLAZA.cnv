
OBJECT=4NABUTELCE
4NABUTELCE:TYPE=SOUND
4NABUTELCE:FILENAME=4NABUTELCE.WAV
4NABUTELCE:RELEASE=TRUE
4NABUTELCE:ONINIT={SOUNDS^ADD("4NABUTELCE");}

OBJECT=4BBUTELKA
4BBUTELKA:TYPE=SOUND
4BBUTELKA:FILENAME=4BBUTELKA.WAV
4BBUTELKA:RELEASE=TRUE
4BBUTELKA:ONINIT={SOUNDS^ADD("4BBUTELKA");}

OBJECT=4BEZMAPYNIE
4BEZMAPYNIE:TYPE=SOUND
4BEZMAPYNIE:FILENAME=4BEZMAPYNIE.WAV
4BEZMAPYNIE:RELEASE=TRUE
4BEZMAPYNIE:ONINIT={SOUNDS^ADD("4BEZMAPYNIE");}

OBJECT=4BMAPA
4BMAPA:TYPE=SOUND
4BMAPA:FILENAME=4BMAPA.WAV
4BMAPA:ONINIT={SOUNDS^ADD("4BMAPA");}
4BMAPA:ONFINISHED={RATUNEK^GOTO("MAPAPUSTA");

OBJECT=4BMAPA2
4BMAPA2:TYPE=SOUND
4BMAPA2:FILENAME=4BMAPA2.WAV
4BMAPA2:ONINIT={SOUNDS^ADD("4BMAPA2");}

OBJECT=4BMAPA3
4BMAPA3:TYPE=SOUND
4BMAPA3:FILENAME=4BMAPA3.WAV
4BMAPA3:ONINIT={SOUNDS^ADD("4BMAPA3");}
4BMAPA3:ONFINISHED=BEH_BMAPA

OBJECT=4DRZWIZAMK
4DRZWIZAMK:TYPE=SOUND
4DRZWIZAMK:FILENAME=4DRZWIZAMK.WAV
4DRZWIZAMK:RELEASE=TRUE
4DRZWIZAMK:ONINIT={SOUNDS^ADD("4DRZWIZAMK");}

OBJECT=4ENTRE
4ENTRE:TYPE=SOUND
4ENTRE:FILENAME=4ENTRE.WAV
4ENTRE:RELEASE=TRUE
4ENTRE:ONINIT={SOUNDS^ADD("4ENTRE");}

OBJECT=4EXIT7
4EXIT7:TYPE=SOUND
4EXIT7:FILENAME=4EXIT7.WAV
4ENTRE:RELEASE=TRUE
4EXIT7:ONINIT={SOUNDS^ADD("4EXIT7");}

OBJECT=ROBINSON
ROBINSON:TYPE=ANIMO
ROBINSON:FILENAME=ROBINSON4.ANN
ROBINSON:TOCANVAS=TRUE
ROBINSON:VISIBLE=TRUE

OBJECT=KURY
KURY:TYPE=ANIMO
KURY:FILENAME=KURY.ANN
KURY:TOCANVAS=TRUE
KURY:VISIBLE=TRUE
KURY:ONINIT=BEH_HIDE
KURY:ONFINISHED=BEH_HIDE

OBJECT=DRZWI
DRZWI:TYPE=ANIMO
DRZWI:FILENAME=DRZWI.ANN
DRZWI:TOCANVAS=TRUE
DRZWI:VISIBLE=TRUE
DRZWI:ONINIT={DRZWI^SETFRAME(CZYDRZWI);}

OBJECT=KLUCZ
KLUCZ:TYPE=IMAGE
KLUCZ:FILENAME=KLUCZ.IMG
KLUCZ:TOCANVAS=TRUE
KLUCZ:VISIBLE=TRUE
KLUCZ:ONINIT={@IF("CZYDRZWI'0","BEH_CZYKLUCZWISI","{KLUCZ^SHOW();}");}

OBJECT=FALA1
FALA1:TYPE=ANIMO
FALA1:FILENAME=FALA1.ANN
FALA1:TOCANVAS=TRUE
FALA1:VISIBLE=TRUE
FALA1:ONINIT=BEH_PLAY
FALA1:ONFINISHED=BEH_PLAY

OBJECT=BUTELKA
BUTELKA:TYPE=ANIMO
BUTELKA:FILENAME=BUTELKAPLYWA.ANN
BUTELKA:TOCANVAS=TRUE
BUTELKA:VISIBLE=TRUE
BUTELKA:ONINIT={@IF("CZYBBUTELKA'0","BEH_BUT","{BUTELKA^HIDE();BUTELKA_BUT^DISABLE();}");}
BUTELKA:ONFINISHED={@IF("CZYBBUTELKA'0","BEH_BUT","{BUTELKA^HIDE();BUTELKA_BUT^DISABLE();}");}


OBJECT=BEXIT
BEXIT:TYPE=IMAGE
BEXIT:FILENAME=BEXIT.IMG
BEXIT:TOCANVAS=TRUE
BEXIT:VISIBLE=TRUE

OBJECT=BEXITOM
BEXITOM:TYPE=IMAGE
BEXITOM:FILENAME=BEXITOM.IMG
BEXITOM:TOCANVAS=TRUE
BEXITOM:VISIBLE=TRUE

OBJECT=BEXITOC
BEXITOC:TYPE=IMAGE
BEXITOC:FILENAME=BEXITOC.IMG
BEXITOC:TOCANVAS=TRUE
BEXITOC:VISIBLE=TRUE

OBJECT=BBUTELKA
BBUTELKA:TYPE=IMAGE
BBUTELKA:FILENAME=BBUTELKA.IMG
BBUTELKA:TOCANVAS=TRUE
BBUTELKA:VISIBLE=FALSE

OBJECT=BBUTELKAOM
BBUTELKAOM:TYPE=IMAGE
BBUTELKAOM:FILENAME=BBUTELKAOM.IMG
BBUTELKAOM:TOCANVAS=TRUE
BBUTELKAOM:VISIBLE=FALSE

OBJECT=BBUTELKAOC
BBUTELKAOC:TYPE=IMAGE
BBUTELKAOC:FILENAME=BBUTELKAOC.IMG
BBUTELKAOC:TOCANVAS=TRUE
BBUTELKAOC:VISIBLE=FALSE

OBJECT=BMAPA0
BMAPA0:TYPE=IMAGE
BMAPA0:FILENAME=BMAPA0.IMG
BMAPA0:TOCANVAS=TRUE
BMAPA0:VISIBLE=FALSE

OBJECT=BMAPA0OM
BMAPA0OM:TYPE=IMAGE
BMAPA0OM:FILENAME=BMAPA0OM.IMG
BMAPA0OM:TOCANVAS=TRUE
BMAPA0OM:VISIBLE=FALSE

OBJECT=BMAPA0OC
BMAPA0OC:TYPE=IMAGE
BMAPA0OC:FILENAME=BMAPA0OC.IMG
BMAPA0OC:TOCANVAS=TRUE
BMAPA0OC:VISIBLE=FALSE

OBJECT=BMAPA
BMAPA:TYPE=IMAGE
BMAPA:FILENAME=BMAPA.IMG
BMAPA:TOCANVAS=TRUE
BMAPA:VISIBLE=FALSE

OBJECT=BMAPAOM
BMAPAOM:TYPE=IMAGE
BMAPAOM:FILENAME=BMAPAOM.IMG
BMAPAOM:TOCANVAS=TRUE
BMAPAOM:VISIBLE=FALSE

OBJECT=BMAPAOC
BMAPAOC:TYPE=IMAGE
BMAPAOC:FILENAME=BMAPAOC.IMG
BMAPAOC:TOCANVAS=TRUE
BMAPAOC:VISIBLE=FALSE

OBJECT=BKLUCZ
BKLUCZ:TYPE=IMAGE
BKLUCZ:FILENAME=BKLUCZ.IMG
BKLUCZ:TOCANVAS=TRUE
BKLUCZ:VISIBLE=FALSE

OBJECT=BKLUCZOM
BKLUCZOM:TYPE=IMAGE
BKLUCZOM:FILENAME=BKLUCZOM.IMG
BKLUCZOM:TOCANVAS=TRUE
BKLUCZOM:VISIBLE=FALSE

OBJECT=BKLUCZOC
BKLUCZOC:TYPE=IMAGE
BKLUCZOC:FILENAME=BKLUCZOC.IMG
BKLUCZOC:TOCANVAS=TRUE
BKLUCZOC:VISIBLE=FALSE

#REKSIO
OBJECT=REKSIO
REKSIO:TYPE=ANIMO
REKSIO:FILENAME=REKSIO.ANN
REKSIO:TOCANVAS=TRUE
REKSIO:VISIBLE=TRUE
REKSIO:ONINIT={@IF("CZYBYLUROBA!'1&&CZYWCHODZIZMAPY!'1","BEH_WEJSCIE","BEH_WEJSCIE_ALT");}
REKSIO:ONFINISHED^BUTELKA={BBUTELKA_BUTTON^ENABLE();BMAPA0_BUTTON^ENABLE();BUTTONY^REMOVE("BUTELKA_BUT");BUTTONY^ADD("BBUTELKA_BUTTON");BUTTONY^ADD("BMAPA0_BUTTON");BUTELKA_BUT^DISABLE();}
REKSIO:ONFINISHED^WYGRZEBUJESIE={BUTELKA_BUT^ENABLE();}
REKSIO:ONFINISHED^DODRZWI={DRZWI_BUT^DISABLEBUTVISIBLE();@IF("CZYBKLUCZ!'1&&CZYDRZWI'0","BEH_REKSIODODRZWI","BEH_REKSIODODRZWI_ALT");}
REKSIO:ONFINISHED^ROZKLADARECE2={REKSIO^PLAY("ODDRZWI");}
REKSIO:ONFINISHED^DRZWIOTWIERA={BKLUCZ_BUTTON^DISABLE();KLUCZ^SHOW();BUTTONY^REMOVE("BKLUCZ_BUTTON");CZYBKLUCZ^SET(2);CZYDRZWI^SET(1);DRZWI^SETFRAME(CZYDRZWI);REKSIO^PLAY("ODDRZWI");}
REKSIO:ONFINISHED^DOPLANSZY7={@IF("KONTROLAVAR'1","CZYKONTROLA","{POZYCJAREKSIA^SET(4);ROZDZIAL2^RESETINI();ROZDZIAL3^RESETINI();VARREKSIORZEKA^SET(0);RATUNEK^GOTO("KONTROLA");}");}
REKSIO:ONFINISHED^ODDRZWI={DRZWI_BUT^ENABLE();}
REKSIO:ONFINISHED^DOPLANSZY5={SOUNDS^RELEASE();RATUNEK^GOTO("5ROBINSON");}
REKSIO:ONFINISHED^ZPLANSZY5={CZYBYLUROBA^SET(2);}
REKSIO:ONFINISHED^OGLADAMAPE={RATUNEK^GOTO("MAPAPELNA");}

OBJECT=PALMA
PALMA:TYPE=IMAGE
PALMA:FILENAME=PALMA.IMG
PALMA:TOCANVAS=TRUE
PALMA:VISIBLE=TRUE

OBJECT=STRZALADO5
STRZALADO5:TYPE=IMAGE
STRZALADO5:FILENAME=4GOTO5.IMG
STRZALADO5:TOCANVAS=TRUE
STRZALADO5:VISIBLE=TRUE

#BUTTONY#

OBJECT=DO5_BUT
DO5_BUT:TYPE=BUTTON
DO5_BUT:RECT=0,0,150,270
DO5_BUT:ONINIT={BUTTONY^ADD("DO5_BUT");}
DO5_BUT:ONACTION={REKSIO^PLAY("DOPLANSZY5");}
DO5_BUT:GFXONMOVE=STRZALADO5
DO5_BUT:ENABLE=TRUE

OBJECT=BUTELKA_BUT
BUTELKA_BUT:TYPE=BUTTON
BUTELKA_BUT:GFXSTANDARD=BUTELKA
BUTELKA_BUT:ONACTION={CZYBBUTELKA^SET(1);BUTTONY^REMOVE("BUTELKA_BUT");BUTELKA^HIDE();BUTELKA_BUT^DISABLE();CZYBMAPA0^SET(1);4NABUTELCE^PLAY();REKSIO^PLAY("BUTELKA");}
BUTELKA_BUT:ENABLE=FALSE

OBJECT=DRZWI_BUT
DRZWI_BUT:TYPE=BUTTON
DRZWI_BUT:RECT=DRZWI
DRZWI_BUT:ONINIT={BUTTONY^ADD("DRZWI_BUT");}
DRZWI_BUT:ONACTION={REKSIO^PLAY("DODRZWI");}
DRZWI_BUT:ENABLE=TRUE

OBJECT=EXIT_BUTTON
EXIT_BUTTON:TYPE=BUTTON
EXIT_BUTTON:GFXSTANDARD=BEXIT
EXIT_BUTTON:GFXONMOVE=BEXITOM
EXIT_BUTTON:GFXONCLICK=BEXITOC
EXIT_BUTTON:ONACTION=BEH_EXITPROGRAM
EXIT_BUTTON:ENABLE=TRUE


OBJECT=BBUTELKA_BUTTON
BBUTELKA_BUTTON:TYPE=BUTTON
BBUTELKA_BUTTON:GFXSTANDARD=BBUTELKA
BBUTELKA_BUTTON:GFXONMOVE=BBUTELKAOM
BBUTELKA_BUTTON:GFXONCLICK=BBUTELKAOC
BBUTELKA_BUTTON:ONACTION={REKSIO^PLAY("ROZKLADARECE");4BBUTELKA^PLAY();}
BBUTELKA_BUTTON:ONINIT={@IF("CZYBBUTELKA'1","BEH_CZYBBUTELKA","{BBUTELKA_BUTTON^DISABLE();BUTELKA_BUT^ENABLE();BEH_JESZCZEBUT^RUN();}");}
BBUTELKA_BUTTON:ENABLE=FALSE

OBJECT=BMAPA0_BUTTON
BMAPA0_BUTTON:TYPE=BUTTON
BMAPA0_BUTTON:GFXSTANDARD=BMAPA0
BMAPA0_BUTTON:GFXONMOVE=BMAPA0OM
BMAPA0_BUTTON:GFXONCLICK=BMAPA0OC
BMAPA0_BUTTON:ONACTION={4BMAPA^PLAY();}
BMAPA0_BUTTON:ONINIT={@IF("CZYBMAPA0'1","BEH_CZYBMAPA0","{BMAPA0_BUTTON^DISABLE();}");}
BMAPA0_BUTTON:ENABLE=FALSE

OBJECT=BMAPA_BUTTON
BMAPA_BUTTON:TYPE=BUTTON
BMAPA_BUTTON:GFXSTANDARD=BMAPA
BMAPA_BUTTON:GFXONMOVE=BMAPAOM
BMAPA_BUTTON:GFXONCLICK=BMAPAOC
BMAPA_BUTTON:ONACTION={4BMAPA3^PLAY();}
BMAPA_BUTTON:ONINIT={@IF("CZYBMAPA'1","BEH_CZYBMAPA","{BMAPA_BUTTON^DISABLE();}");}
BMAPA_BUTTON:ENABLE=FALSE

OBJECT=BKLUCZ_BUTTON
BKLUCZ_BUTTON:TYPE=BUTTON
BKLUCZ_BUTTON:GFXSTANDARD=BKLUCZ
BKLUCZ_BUTTON:GFXONMOVE=BKLUCZOM
BKLUCZ_BUTTON:GFXONCLICK=BKLUCZOC
BKLUCZ_BUTTON:ONACTION={REKSIO^PLAY("DODRZWI");}
BKLUCZ_BUTTON:ONINIT={@IF("CZYBKLUCZ'1","BEH_CZYBKLUCZ","{BKLUCZ_BUTTON^DISABLE();}");}
BKLUCZ_BUTTON:ENABLE=FALSE


#SEQ'I


OBJECT=KURYSEQ
KURYSEQ:TYPE=SEQUENCE
KURYSEQ:FILENAME=KURY.SEQ
KURYSEQ:ONINIT=BEH_HIDE
KURYSEQ:ONFINISHED=BEH_HIDE

OBJECT=REKSIOSEQ
REKSIOSEQ:TYPE=SEQUENCE
REKSIOSEQ:FILENAME=REKSIOSEQ.SEQ

OBJECT=ROBIPIPT
ROBIPIPT:TYPE=SEQUENCE
ROBIPIPT:FILENAME=ROBIPIPT.SEQ


#GRUPY
OBJECT=BUTTONY
BUTTONY:TYPE=GROUP
BUTTONY:ONINIT={BUTTONY^ADD("EXIT_BUTTON");}

OBJECT=SOUNDS
SOUNDS:TYPE=GROUP



############
#BEHEJWIORYREKSIA



OBJECT=BEH_WEJSCIE
BEH_WEJSCIE:TYPE=BEHAVIOUR
BEH_WEJSCIE:CODE={4ENTRE^PLAY();POZYCJAREKSIA^SET(4);REKSIOZAL2^SET(1);CZYWCHODZIZMAPY^SET(1);REKSIO^PLAY("WYGRZEBUJESIE");}

OBJECT=BEH_WEJSCIE_ALT
BEH_WEJSCIE_ALT:TYPE=BEHAVIOUR
BEH_WEJSCIE_ALT:CODE={@IF("CZYBYLUROBA'1","{REKSIO^PLAY("ZPLANSZY5");POZYCJAREKSIA^SET(4);@BREAK();}","");@IF("CZYWCHODZIZMAPY'1","{REKSIO^PLAY("ROZKLADARECE");REKSIO^PAUSE();}","");}

#SEKWENCJAPODEJSCIADODRZWI

OBJECT=BEH_REKSIODODRZWI
BEH_REKSIODODRZWI:TYPE=BEHAVIOUR
BEH_REKSIODODRZWI:CODE={4DRZWIZAMK^PLAY();REKSIO^PLAY("ROZKLADARECE2");}

OBJECT=BEH_REKSIODODRZWI_ALT
BEH_REKSIODODRZWI_ALT:TYPE=BEHAVIOUR
BEH_REKSIODODRZWI_ALT:CODE={@IF("CZYBKLUCZ'1","{BKLUCZ_BUTTON^DISABLEBUTVISIBLE();REKSIO^PLAY("DRZWIOTWIERA");@BREAK();}","");@IF("CZYDRZWI!'0","BEH_DRZWI2","");}

OBJECT=BEH_DRZWI2
BEH_DRZWI2:TYPE=BEHAVIOUR
BEH_DRZWI2:CODE={@IF("CZYBMAPA'1","{4EXIT7^PLAY();REKSIO^PLAY("DOPLANSZY7");}","{4BEZMAPYNIE^PLAY();REKSIO^PLAY("ROZKLADARECE2");}");}


#PROBABLOKOWANIABUTTONÛWKIEDYREKSIOCHODZI

OBJECT=BEH_BLOKBUTTONOW
BEH_BLOKBUTTONOW:TYPE=BEHAVIOUR
BEH_BLOKBUTTONOW:CODE={BUTTONY^DISABLEBUTVISIBLE();}

####STANPANELUNAWEJúCIU-PODCZEPIONEPODONINITBUTTONÛWPANELOWYCH

OBJECT=BEH_JESZCZEBUT
BEH_JESZCZEBUT:TYPE=BEHAVIOUR
BEH_JESZCZEBUT:CODE={@IF("CZYBBUTELKA!'2","{@BREAK();}","");BUTTONY^REMOVE("BUTELKA_BUT");BUTTONY^REMOVE("BBUTELKA_BUTTON");BUTELKA_BUT^DISABLE();}

OBJECT=BEH_CZYBBUTELKA
BEH_CZYBBUTELKA:TYPE=BEHAVIOUR
BEH_CZYBBUTELKA:CODE={BBUTELKA_BUTTON^ENABLE();BUTTONY^ADD("BBUTELKA_BUTTON");BUTTONY^REMOVE("BUTELKA_BUT");BUTELKA_BUT^DISABLE();}

OBJECT=BEH_CZYBMAPA0
BEH_CZYBMAPA0:TYPE=BEHAVIOUR
BEH_CZYBMAPA0:CODE={BUTTONY^ADD("BMAPA0_BUTTON");BMAPA0_BUTTON^ENABLE();}

OBJECT=BEH_CZYBMAPA
BEH_CZYBMAPA:TYPE=BEHAVIOUR
BEH_CZYBMAPA:CODE={BUTTONY^ADD("BMAPA_BUTTON");BMAPA_BUTTON^ENABLE();}

OBJECT=BEH_CZYBKLUCZ
BEH_CZYBKLUCZ:TYPE=BEHAVIOUR
BEH_CZYBKLUCZ:CODE={BUTTONY^ADD("BKLUCZ_BUTTON");BKLUCZ_BUTTON^ENABLE();}

#CZYKLUCZWISI
OBJECT=BEH_CZYKLUCZWISI
BEH_CZYKLUCZWISI:TYPE=BEHAVIOUR
BEH_CZYKLUCZWISI:CODE={KLUCZ^HIDE();BKLUCZ^HIDE();}

#BEHAJWIORYROZNE

OBJECT=BEH_HIDE
BEH_HIDE:TYPE=BEHAVIOUR
BEH_HIDE:CODE={THIS^HIDE();}

OBJECT=BEH_PLAY
BEH_PLAY:TYPE=BEHAVIOUR
BEH_PLAY:CODE={THIS^PLAY("PLAY");}

OBJECT=BEH_BUT
BEH_BUT:TYPE=BEHAVIOUR
BEH_BUT:CODE={BUTELKA^PLAY("BUTELKA");}


OBJECT=BEH_KURY
BEH_KURY:TYPE=BEHAVIOUR
BEH_KURY:CODE={KURYSEQ^PLAY("PLAY");}



OBJECT=BEH_EXITPROGRAM
BEH_EXITPROGRAM:TYPE=BEHAVIOUR
BEH_EXITPROGRAM:CODE={RATUNEK^GOTO("MENUGLOWNE");}


OBJECT=BEH_ONTIMER
BEH_ONTIMER:TYPE=BEHAVIOUR
BEH_ONTIMER:CODE={KURYSEQ^PLAY("PLAY");}

OBJECT=TIMER
TIMER:TYPE=TIMER
TIMER:ELAPSE=10000
TIMER:ONTICK=BEH_ONTIMER

OBJECT=TIMERBLOKBUTTON
TIMERBLOKBUTTON:TYPE=TIMER
TIMERBLOKBUTTON:ELAPSE=100
TIMERBLOKBUTTON:ONTICK={@IF("REKSIO^ISPLAYING()'TRUE","BEH_BLOKBUTTONOW","{BUTTONY^ENABLE();}");}

OBJECT=BEH_BMAPA
BEH_BMAPA:TYPE=BEHAVIOUR
BEH_BMAPA:CODE={REKSIO^PLAY("OGLADAMAPE");}


OBJECT=TIMERROBIPIPT
TIMERROBIPIPT:TYPE=TIMER
TIMERROBIPIPT:ELAPSE=20000
TIMERROBIPIPT:ONTICK={@IF("OGIENSIEPALI'0&&CZYBYLUROBA<1","BEH_ROBIPIPT","BEH_ROBIPIPT_ALT");}

OBJECT=BEH_ROBIPIPT
BEH_ROBIPIPT:TYPE=BEHAVIOUR
BEH_ROBIPIPT:CODE={ROBIPIPT^PLAY("PRZEDROBEM");}

OBJECT=BEH_ROBIPIPT_ALT
BEH_ROBIPIPT_ALT:TYPE=BEHAVIOUR
BEH_ROBIPIPT_ALT:CODE={@IF("OGIENSIEPALI!'0","{ROBIPIPT^PLAY("POROBIE");@BREAK();}","");@IF("CZYBYLUROBA>'1","{ROBIPIPT^PLAY("PRZEDROBEM");}","");}

#############CZYKONTROLA

OBJECT=CZYKONTROLA
CZYKONTROLA:TYPE=BEHAVIOUR
CZYKONTROLA:CODE={POZYCJAREKSIA^SET(4);RATUNEK^GOTO("RZEKA1");}






