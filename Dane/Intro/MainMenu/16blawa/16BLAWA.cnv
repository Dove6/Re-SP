OBJECT=BBUTTONSENABLED
BBUTTONSENABLED:TYPE=BOOL
BBUTTONSENABLED:VALUE=TRUE
BBUTTONSENABLED:ONCHANGED^TRUE=BEHENABLEBUTTONS
BBUTTONSENABLED:ONCHANGED^FALSE=BEHDISABLEBUTTONS


######################################
##############  ANIMO  ###############
######################################

OBJECT=REKSIO16
REKSIO16:TYPE=ANIMO
REKSIO16:VISIBLE=TRUE
REKSIO16:FILENAME=REKSIO16.ANN
REKSIO16:TOCANVAS=TRUE
REKSIO16:PRIORITY=100
REKSIO16:FPS=16
REKSIO16:PRELOAD=TRUE
REKSIO16:RELEASE=TRUE
REKSIO16:MONITORCOLLISION=FALSE
REKSIO16:MONITORCOLLISIONALPHA=FALSE
REKSIO16:ONSTARTED={@IF("REKSIO16^GETEVENTNAME()'"IDLE_TORCH"","{@BREAK();}","");BBUTTONSENABLED^SET(FALSE);}
REKSIO16:ONFINISHED={BEHTRYTOENABLEBUTTONS^RUN();}
REKSIO16:ONFINISHED^OGLADAMAPE={RATUNEK^GOTO("MAPAPELNA");}
REKSIO16:ONFINISHED^DOPLANSZY17P={RATUNEK^GOTO("CIEMNOSC");}
REKSIO16:ONFINISHED^DOPLANSZY17={RATUNEK^GOTO("CIEMNOSC");}
REKSIO16:ONFRAMECHANGED^BIERZEPOCHODNIE={@IF("REKSIO16^GETCFRAMEINEVENT()>'3&&POCHODNIA^ISVISIBLE()'TRUE","{POCHODNIA^PAUSE();POCHODNIA^HIDE();BUT_POCHODNIA^DISABLE();}","");}
REKSIO16:ONFINISHED^BIERZEPOCHODNIE={BEHTRYTOENABLEBUTTONS^RUN();THIS^PLAY("IDLE_TORCH");}
REKSIO16:ONFINISHED^IDLE_TORCH={THIS^PLAY("IDLE_TORCH");}

OBJECT=POCHODNIA
POCHODNIA:TYPE=ANIMO
POCHODNIA:VISIBLE=TRUE
POCHODNIA:FILENAME=POCHODNIA.ANN
POCHODNIA:TOCANVAS=TRUE
POCHODNIA:PRIORITY=0
POCHODNIA:FPS=16
POCHODNIA:PRELOAD=TRUE
POCHODNIA:RELEASE=TRUE
POCHODNIA:MONITORCOLLISION=FALSE
POCHODNIA:MONITORCOLLISIONALPHA=FALSE
POCHODNIA:ONFINISHED^POCHODNIA={THIS^PLAY("POCHODNIA");}

OBJECT=ANIMOKAMIEN1
ANIMOKAMIEN1:TYPE=ANIMO
ANIMOKAMIEN1:VISIBLE=TRUE
ANIMOKAMIEN1:FILENAME=KAMIEN1.ANN
ANIMOKAMIEN1:TOCANVAS=TRUE
ANIMOKAMIEN1:PRIORITY=100
ANIMOKAMIEN1:FPS=16
ANIMOKAMIEN1:PRELOAD=TRUE
ANIMOKAMIEN1:RELEASE=TRUE
ANIMOKAMIEN1:MONITORCOLLISION=FALSE
ANIMOKAMIEN1:MONITORCOLLISIONALPHA=FALSE
ANIMOKAMIEN1:ONFINISHED^SPADA={THIS^PLAY("END");}
ANIMOKAMIEN1:ONFINISHED^END={THIS^HIDE();}


OBJECT=ANIMOKAMIEN2
ANIMOKAMIEN2:TYPE=ANIMO
ANIMOKAMIEN2:VISIBLE=TRUE
ANIMOKAMIEN2:FILENAME=KAMIEN2.ANN
ANIMOKAMIEN2:TOCANVAS=TRUE
ANIMOKAMIEN2:PRIORITY=100
ANIMOKAMIEN2:FPS=16
ANIMOKAMIEN2:PRELOAD=TRUE
ANIMOKAMIEN2:RELEASE=TRUE
ANIMOKAMIEN2:MONITORCOLLISION=FALSE
ANIMOKAMIEN2:MONITORCOLLISIONALPHA=FALSE
ANIMOKAMIEN2:ONFINISHED^SPADA={THIS^PLAY("END");}
ANIMOKAMIEN2:ONFINISHED^END={THIS^HIDE();}

OBJECT=ANIMOBABEL1
ANIMOBABEL1:TYPE=ANIMO
ANIMOBABEL1:VISIBLE=TRUE
ANIMOBABEL1:FILENAME=BOMBEL1_1.ANN
ANIMOBABEL1:TOCANVAS=TRUE
ANIMOBABEL1:PRIORITY=0
ANIMOBABEL1:FPS=16
ANIMOBABEL1:PRELOAD=TRUE
ANIMOBABEL1:RELEASE=TRUE
ANIMOBABEL1:MONITORCOLLISION=FALSE
ANIMOBABEL1:MONITORCOLLISIONALPHA=FALSE
ANIMOBABEL1:ONFINISHED={THIS^PLAY("PLAY");}

OBJECT=ANIMOBABEL2
ANIMOBABEL2:TYPE=ANIMO
ANIMOBABEL2:VISIBLE=TRUE
ANIMOBABEL2:FILENAME=BOMBEL1_2.ANN
ANIMOBABEL2:TOCANVAS=TRUE
ANIMOBABEL2:PRIORITY=0
ANIMOBABEL2:FPS=16
ANIMOBABEL2:PRELOAD=TRUE
ANIMOBABEL2:RELEASE=TRUE
ANIMOBABEL2:MONITORCOLLISION=FALSE
ANIMOBABEL2:MONITORCOLLISIONALPHA=FALSE
ANIMOBABEL2:ONFINISHED={THIS^PLAY("PLAY");}

OBJECT=ANIMOBABEL3
ANIMOBABEL3:TYPE=ANIMO
ANIMOBABEL3:VISIBLE=TRUE
ANIMOBABEL3:FILENAME=BOMBEL1_3.ANN
ANIMOBABEL3:TOCANVAS=TRUE
ANIMOBABEL3:PRIORITY=0
ANIMOBABEL3:FPS=16
ANIMOBABEL3:PRELOAD=TRUE
ANIMOBABEL3:RELEASE=TRUE
ANIMOBABEL3:MONITORCOLLISION=FALSE
ANIMOBABEL3:MONITORCOLLISIONALPHA=FALSE
ANIMOBABEL3:ONFINISHED={THIS^PLAY("PLAY");}


######################################
##############  IMAGE  ###############
######################################

OBJECT=BEXIT
BEXIT:TYPE=IMAGE
BEXIT:VISIBLE=TRUE
BEXIT:FILENAME=BEXIT.IMG
BEXIT:TOCANVAS=TRUE
BEXIT:PRIORITY=100
BEXIT:PRELOAD=TRUE
BEXIT:RELEASE=TRUE
BEXIT:MONITORCOLLISION=FALSE
BEXIT:MONITORCOLLISIONALPHA=FALSE

OBJECT=BEXITOC
BEXITOC:TYPE=IMAGE
BEXITOC:VISIBLE=TRUE
BEXITOC:FILENAME=BEXITOC.IMG
BEXITOC:TOCANVAS=TRUE
BEXITOC:PRIORITY=100
BEXITOC:PRELOAD=TRUE
BEXITOC:RELEASE=TRUE
BEXITOC:MONITORCOLLISION=FALSE
BEXITOC:MONITORCOLLISIONALPHA=FALSE

OBJECT=BEXITOM
BEXITOM:TYPE=IMAGE
BEXITOM:VISIBLE=TRUE
BEXITOM:FILENAME=BEXITOM.IMG
BEXITOM:TOCANVAS=TRUE
BEXITOM:PRIORITY=100
BEXITOM:PRELOAD=TRUE
BEXITOM:RELEASE=TRUE
BEXITOM:MONITORCOLLISION=FALSE
BEXITOM:MONITORCOLLISIONALPHA=FALSE

OBJECT=BMAPA
BMAPA:TYPE=IMAGE
BMAPA:VISIBLE=TRUE
BMAPA:FILENAME=BMAPA.IMG
BMAPA:TOCANVAS=TRUE
BMAPA:PRIORITY=100
BMAPA:PRELOAD=TRUE
BMAPA:RELEASE=TRUE
BMAPA:MONITORCOLLISION=FALSE
BMAPA:MONITORCOLLISIONALPHA=FALSE

OBJECT=BMAPAOC
BMAPAOC:TYPE=IMAGE
BMAPAOC:VISIBLE=TRUE
BMAPAOC:FILENAME=BMAPAOC.IMG
BMAPAOC:TOCANVAS=TRUE
BMAPAOC:PRIORITY=100
BMAPAOC:PRELOAD=TRUE
BMAPAOC:RELEASE=TRUE
BMAPAOC:MONITORCOLLISION=FALSE
BMAPAOC:MONITORCOLLISIONALPHA=FALSE

OBJECT=BMAPAOM
BMAPAOM:TYPE=IMAGE
BMAPAOM:VISIBLE=TRUE
BMAPAOM:FILENAME=BMAPAOM.IMG
BMAPAOM:TOCANVAS=TRUE
BMAPAOM:PRIORITY=100
BMAPAOM:PRELOAD=TRUE
BMAPAOM:RELEASE=TRUE
BMAPAOM:MONITORCOLLISION=FALSE
BMAPAOM:MONITORCOLLISIONALPHA=FALSE

OBJECT=BMAPA2
BMAPA2:TYPE=IMAGE
BMAPA2:VISIBLE=TRUE
BMAPA2:FILENAME=BMAPA2.IMG
BMAPA2:TOCANVAS=TRUE
BMAPA2:PRIORITY=100
BMAPA2:PRELOAD=TRUE
BMAPA2:RELEASE=TRUE
BMAPA2:MONITORCOLLISION=FALSE
BMAPA2:MONITORCOLLISIONALPHA=FALSE

OBJECT=BMAPA2OC
BMAPA2OC:TYPE=IMAGE
BMAPA2OC:VISIBLE=TRUE
BMAPA2OC:FILENAME=BMAPA2OC.IMG
BMAPA2OC:TOCANVAS=TRUE
BMAPA2OC:PRIORITY=100
BMAPA2OC:PRELOAD=TRUE
BMAPA2OC:RELEASE=TRUE
BMAPA2OC:MONITORCOLLISION=FALSE
BMAPA2OC:MONITORCOLLISIONALPHA=FALSE

OBJECT=BMAPA2OM
BMAPA2OM:TYPE=IMAGE
BMAPA2OM:VISIBLE=TRUE
BMAPA2OM:FILENAME=BMAPA2OM.IMG
BMAPA2OM:TOCANVAS=TRUE
BMAPA2OM:PRIORITY=100
BMAPA2OM:PRELOAD=TRUE
BMAPA2OM:RELEASE=TRUE
BMAPA2OM:MONITORCOLLISION=FALSE
BMAPA2OM:MONITORCOLLISIONALPHA=FALSE

OBJECT=STRZALADO
STRZALADO:TYPE=IMAGE
STRZALADO:FILENAME=16BGOTO17.IMG
STRZALADO:TOCANVAS=TRUE
STRZALADO:VISIBLE=TRUE


######################################
##############  BUTTON  ##############
######################################

OBJECT=BUT_WEJSCIE_GORA
BUT_WEJSCIE_GORA:TYPE=BUTTON
BUT_WEJSCIE_GORA:VISIBLE=TRUE
BUT_WEJSCIE_GORA:RECT=272,21,290,74
BUT_WEJSCIE_GORA:ENABLE=FALSE
BUT_WEJSCIE_GORA:DRAGGABLE=FALSE
BUT_WEJSCIE_GORA:ONACTION={S_NO_TO_15^PLAY();}

OBJECT=BUT_POCHODNIA
BUT_POCHODNIA:TYPE=BUTTON
BUT_POCHODNIA:VISIBLE=TRUE
BUT_POCHODNIA:ENABLE=FALSE
BUT_POCHODNIA:DRAGGABLE=FALSE
BUT_POCHODNIA:GFXSTANDARD=POCHODNIA
BUT_POCHODNIA:ONACTION={INT_POCHODNIA^SET(1);GRPBUTTONS^REMOVE("BUT_POCHODNIA");BUT_POCHODNIA^DISABLEBUTVISIBLE();REKSIO16^PLAY("BIERZEPOCHODNIE");}

OBJECT=BUT_PRZEJSCIE_DOPLANSZY
BUT_PRZEJSCIE_DOPLANSZY:TYPE=BUTTON
BUT_PRZEJSCIE_DOPLANSZY:VISIBLE=TRUE
BUT_PRZEJSCIE_DOPLANSZY:RECT=2,3,76,111
BUT_PRZEJSCIE_DOPLANSZY:ENABLE=FALSE
BUT_PRZEJSCIE_DOPLANSZY:DRAGGABLE=FALSE
BUT_PRZEJSCIE_DOPLANSZY:ONACTION={@IF("INT_POCHODNIA'1","BEHGOTO17TORCH","BEHGOTO17");}
BUT_PRZEJSCIE_DOPLANSZY:GFXONMOVE=STRZALADO

OBJECT=EXIT
EXIT:TYPE=BUTTON
EXIT:VISIBLE=TRUE
EXIT:ENABLE=TRUE
EXIT:DRAGGABLE=FALSE
EXIT:GFXSTANDARD=BEXIT
EXIT:GFXONCLICK=BEXITOC
EXIT:GFXONMOVE=BEXITOM
EXIT:ONACTION={RATUNEK^GOTO("MENUGLOWNE");}

OBJECT=MAPA_PODZIEMI
MAPA_PODZIEMI:TYPE=BUTTON
MAPA_PODZIEMI:VISIBLE=TRUE
MAPA_PODZIEMI:ENABLE=FALSE
MAPA_PODZIEMI:DRAGGABLE=FALSE
MAPA_PODZIEMI:GFXSTANDARD=BMAPA2
MAPA_PODZIEMI:GFXONCLICK=BMAPA2OC
MAPA_PODZIEMI:GFXONMOVE=BMAPA2OM
MAPA_PODZIEMI:ONACTION={RATUNEK^GOTO("MAPAPODZIEMI");}

OBJECT=MAPA_PELNA
MAPA_PELNA:TYPE=BUTTON
MAPA_PELNA:VISIBLE=TRUE
MAPA_PELNA:ENABLE=FALSE
MAPA_PELNA:DRAGGABLE=FALSE
MAPA_PELNA:GFXSTANDARD=BMAPA
MAPA_PELNA:GFXONCLICK=BMAPAOC
MAPA_PELNA:GFXONMOVE=BMAPAOM
MAPA_PELNA:ONACTION={@IF("INT_POCHODNIA'0","{REKSIO16^PLAY("OGLADAMAPE");}","{SNDMAPBLOCK^PLAY();}");}


######################################
##############  GROUP  ###############
######################################

OBJECT=GRPBUTTONS
GRPBUTTONS:TYPE=GROUP


######################################
##############  SOUND  ###############
######################################

OBJECT=S_NO_TO_15
S_NO_TO_15:TYPE=SOUND
S_NO_TO_15:FILENAME=16BLOKDO15.WAV
S_NO_TO_15:PRELOAD=FALSE
S_NO_TO_15:RELEASE=FALSE

OBJECT=SNDMAPBLOCK
SNDMAPBLOCK:TYPE=SOUND
SNDMAPBLOCK:FILENAME=16BLOKMAPY.WAV
SNDMAPBLOCK:PRELOAD=FALSE
SNDMAPBLOCK:RELEASE=FALSE


######################################
############  BEHAVIOUR  #############
######################################

OBJECT=BEHGOTO17
BEHGOTO17:TYPE=BEHAVIOUR
BEHGOTO17:CODE={REKSIO16^PLAY("DOPLANSZY17");}

OBJECT=BEHGOTO17TORCH
BEHGOTO17TORCH:TYPE=BEHAVIOUR
BEHGOTO17TORCH:CODE={REKSIO16^PLAY("DOPLANSZY17P");}

OBJECT=BEHDISABLEBUTTONS
BEHDISABLEBUTTONS:TYPE=BEHAVIOUR
BEHDISABLEBUTTONS:CODE={GRPBUTTONS^DISABLEBUTVISIBLE();}

OBJECT=BEHENABLEBUTTONS
BEHENABLEBUTTONS:TYPE=BEHAVIOUR
BEHENABLEBUTTONS:CODE={GRPBUTTONS^ENABLE();}

OBJECT=BEHTRYTOENABLEBUTTONS
BEHTRYTOENABLEBUTTONS:TYPE=BEHAVIOUR
BEHTRYTOENABLEBUTTONS:CODE={@IF("REKSIO16^ISPLAYING()'FALSE","{BBUTTONSENABLED^SET(TRUE);}","");}

OBJECT=BEHENTRY
BEHENTRY:TYPE=BEHAVIOUR
BEHENTRY:CODE={@IF("INT_POCHODNIA'0","BEHDARKENTRY","BEHBRIGHTENTRY");}

OBJECT=BEHDARKENTRY
BEHDARKENTRY:TYPE=BEHAVIOUR
BEHDARKENTRY:CODE={REKSIO16^SETFRAME("DOPLANSZY17",0);@IF("POZYCJAREKSIA'101","{REKSIO16^PLAY("ODKLADAMAPE");}","");@IF("POZYCJAREKSIA'17","{REKSIO16^PLAY("ZPLANSZY17");}","");}

OBJECT=BEHBRIGHTENTRY
BEHBRIGHTENTRY:TYPE=BEHAVIOUR
BEHBRIGHTENTRY:CODE={REKSIO16^PLAY("IDLE_TORCH");}

OBJECT=BEHFIRSTENTRY
BEHFIRSTENTRY:TYPE=BEHAVIOUR
BEHFIRSTENTRY:CODE={REKSIO16^PLAY("ZPLANSZY15");}

OBJECT=__INIT__
__INIT__:TYPE=BEHAVIOUR
__INIT__:CODE={BEHINITSCENEMUSIC^RUN(); !BUTTONS_INIT; BUT_WEJSCIE_GORA^ENABLE();GRPBUTTONS^ADD("BUT_WEJSCIE_GORA");MAPA_PELNA^ENABLE();GRPBUTTONS^ADD("MAPA_PELNA");MAPA_PODZIEMI^ENABLE();GRPBUTTONS^ADD("MAPA_PODZIEMI");@IF("INT_POCHODNIA'0","{BUT_POCHODNIA^ENABLE();POCHODNIA^PLAY("POCHODNIA");GRPBUTTONS^ADD("BUT_POCHODNIA");}","");BUT_PRZEJSCIE_DOPLANSZY^ENABLE();GRPBUTTONS^ADD("BUT_PRZEJSCIE_DOPLANSZY"); !ANIMATIONS_INIT; ANIMOKAMIEN1^PLAY("SPADA");ANIMOKAMIEN2^PLAY("SPADA");ANIMOBABEL1^PLAY("PLAY");ANIMOBABEL2^PLAY("PLAY");ANIMOBABEL3^PLAY("PLAY");@IF("POZYCJAREKSIA'15","BEHFIRSTENTRY","BEHENTRY");POZYCJAREKSIA^SET("WULKAN");POZYCJAWULKAN^SET("15B");SAVEROZDZIAL6^SET("16BLAWA");}

